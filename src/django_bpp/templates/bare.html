{% load compress %}<!DOCTYPE html>
{#PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"#}
{#        "http://www.w3.org/TR/html4/loose.dtd">#}
<html class="no-js" lang="pl" dir="ltr">
<head>
    <meta http-equiv="X-UA-Compatible" content="IE=10">
    {% load static %}
    {% load compress %}
    <title>{% if DJANGO_BPP_ENABLE_TEST_CONFIGURATION %}** SERWER TESTOWY ** {% endif %}{% block title %}{% block extratitle %}
    {% endblock %}
        - Bibliografia Publikacji {{ uczelnia.skrot }}
    {% endblock %}</title>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width"/>
    <meta name="theme-color" content="#e6e6e6">

    {% if uczelnia.pokazuj_deklaracje_dostepnosci == 1 %}
        <meta name="deklaracja-dostępności" content="{{ uczelnia.deklaracja_dostepnosci_url }}"/>
    {% endif %}

    {% if uczelnia.pokazuj_deklaracje_dostepnosci == 2 %}
        <meta name="deklaracja-dostępności" content="{% url "bpp:browse_deklaracja_dostepnosci" %}}"/>
    {% endif %}

    {# bare.html - FOUC prevention #}
    <style>
        .fouc-hidden { visibility: hidden; opacity: 0; transition: opacity 0.3s ease-in-out; }
        .fouc-visible { visibility: visible; opacity: 1; }
    </style>

    {% compress css %}
        <link rel="stylesheet" type="text/css" href="{% static THEME_NAME %}"/>
        <link rel="stylesheet" type="text/css" href="{% static "jqueryui/jquery-ui.css" %}">
        <link rel="stylesheet" type="text/css" href="{% static "multiseek/css/style.css" %}">
        <link rel="stylesheet" type="text/css" href="{% static 'session_security/style.css' %}">
        <link rel="stylesheet" type="text/css"
              href="{% static "foundation-datepicker/foundation/fonts/foundation-icons.css" %}">
        <link rel="stylesheet" type="text/css"
              href="{% static "foundation-datepicker/css/foundation-datepicker.min.css" %}">
        <link rel="stylesheet" type="text/css" href="{% static "select2/dist/css/select2.min.css" %}">
        <link rel="stylesheet" type="text/css" href="{% static "autocomplete_light/select2.css" %}">
        <link rel="stylesheet" type="text/css"
              href="{% static "select2-foundation_theme/dist/select2-foundation-theme.css" %}">
        <link rel="stylesheet" href="{% static "cookielaw/css/cookielaw.css" %}"/>
        <link rel="stylesheet" href="{% static "datatables.net-zf/css/dataTables.foundation.css" %}"/>
    {% endcompress %}

    {# JavaScript bundle - built with esbuild, includes jQuery and all JS dependencies #}
    <script src="{% static 'bpp/js/dist/bundle.js' %}"></script>
    {# Centralized event handlers for data-confirm, data-submit-on-change, data-open-url #}
    <script src="{% static 'bpp/js/event-handlers.js' %}"></script>
    {% block extrahead_js %}{% endblock %}

    {% block extrahead %}
    {% endblock %}
    {% load cache %}
    {% cache 3600 favicon %}
        {% load favtags %}
        {% place_favicon %}
    {% endcache %}
</head>
<body class="fouc-hidden">
<a href="#main-content" class="skip-link">Przejdź do głównej zawartości</a>
{% block body %}
{% endblock %}
<script type="text/javascript">
    // Initialize Foundation and plugins after DOM is ready
    $(document).ready(function() {
        // Initialize Foundation
        $(document).foundation();

        // Configure Select2 defaults (Polish language, Foundation theme)
        if ($.fn.select2 && $.fn.select2.defaults) {
            $.fn.select2.defaults.set('language', 'pl');
            $.fn.select2.defaults.set('theme', 'foundation');
        }

        // Configure DataTables defaults
        if ($.fn.dataTable && $.fn.dataTable.defaults) {
            $.extend(true, $.fn.dataTable.defaults, {
                "language": {
                    "url": "{% static "bpp/js/Polish.json" %}"
                },
                "lengthMenu": [[10, 25, 50, 100, -1], [10, 25, 50, 100, "wszystkie"]]
            });
        }

        // Show body after styles are loaded (FOUC prevention)
        $('body').removeClass('fouc-hidden').addClass('fouc-visible');
    });

    // Focus search field when Select2 opens
    $(document).on('select2:open', () => {
        setTimeout(() => {
            var field = document.querySelector('.select2-search__field');
            if (field) field.focus();
        }, 10);
    });
</script>
</body>
<footer>
    {% load bpp_version %}
    <!-- wygenerowano dnia {% bpp_localtime %}, wersja {% bpp_version %} -->
</footer>

<noscript>
    <style>
        body.fouc-hidden {
            visibility: visible !important;
            opacity: 1 !important;
        }
    </style>
</noscript>

</html>
