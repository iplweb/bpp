{% if page_obj.has_other_pages %}
<div class="browser-pagination ewaluacja-optymalizacja__pagination">
    <nav aria-label="Paginacja">
        <ul class="pagination ewaluacja-optymalizacja__pagination-list"
            role="navigation" aria-label="Pagination">

            {# Poprzednia #}
            {% if page_obj.has_previous %}
            <li class="pagination-previous ewaluacja-optymalizacja__pagination-item">
                <a href="#"
                   hx-get="{% url 'ewaluacja_optymalizacja:browser-table' %}?page={{ page_obj.previous_page_number }}"
                   hx-target="#publication-table"
                   hx-include="#filter-form"
                   hx-swap="innerHTML"
                   class="ewaluacja-optymalizacja__pagination-link ewaluacja-optymalizacja__pagination-link--nav"
                   aria-label="Poprzednia strona">
                    poprzednia
                </a>
            </li>
            {% else %}
            <li class="pagination-previous disabled ewaluacja-optymalizacja__pagination-item" aria-disabled="true">
                <span class="ewaluacja-optymalizacja__pagination-link--disabled">poprzednia</span>
            </li>
            {% endif %}

            {# Strona 1 jeśli daleko #}
            {% if page_obj.number >= 5 %}
            <li class="ewaluacja-optymalizacja__pagination-item">
                <a href="#"
                   hx-get="{% url 'ewaluacja_optymalizacja:browser-table' %}?page=1"
                   hx-target="#publication-table"
                   hx-include="#filter-form"
                   hx-swap="innerHTML"
                   class="ewaluacja-optymalizacja__pagination-link">1</a>
            </li>
            <li class="ellipsis ewaluacja-optymalizacja__pagination-item">
                <span class="ewaluacja-optymalizacja__pagination-ellipsis">...</span>
            </li>
            {% elif page_obj.number == 4 %}
            <li class="ewaluacja-optymalizacja__pagination-item">
                <a href="#"
                   hx-get="{% url 'ewaluacja_optymalizacja:browser-table' %}?page=1"
                   hx-target="#publication-table"
                   hx-include="#filter-form"
                   hx-swap="innerHTML"
                   class="ewaluacja-optymalizacja__pagination-link">1</a>
            </li>
            {% endif %}

            {# Strona -2 #}
            {% if page_obj.number|add:"-2" >= 1 %}
            <li class="ewaluacja-optymalizacja__pagination-item">
                <a href="#"
                   hx-get="{% url 'ewaluacja_optymalizacja:browser-table' %}?page={{ page_obj.number|add:"-2" }}"
                   hx-target="#publication-table"
                   hx-include="#filter-form"
                   hx-swap="innerHTML"
                   class="ewaluacja-optymalizacja__pagination-link">{{ page_obj.number|add:"-2" }}</a>
            </li>
            {% endif %}

            {# Strona -1 #}
            {% if page_obj.number|add:"-1" >= 1 %}
            <li class="ewaluacja-optymalizacja__pagination-item">
                <a href="#"
                   hx-get="{% url 'ewaluacja_optymalizacja:browser-table' %}?page={{ page_obj.number|add:"-1" }}"
                   hx-target="#publication-table"
                   hx-include="#filter-form"
                   hx-swap="innerHTML"
                   class="ewaluacja-optymalizacja__pagination-link">{{ page_obj.number|add:"-1" }}</a>
            </li>
            {% endif %}

            {# Aktualna strona #}
            <li class="current ewaluacja-optymalizacja__pagination-item" aria-current="page">
                <span class="ewaluacja-optymalizacja__pagination-current">
                    {{ page_obj.number }}
                </span>
            </li>

            {# Strona +1 #}
            {% if page_obj.number|add:"1" <= page_obj.paginator.num_pages %}
            <li class="ewaluacja-optymalizacja__pagination-item">
                <a href="#"
                   hx-get="{% url 'ewaluacja_optymalizacja:browser-table' %}?page={{ page_obj.number|add:"1" }}"
                   hx-target="#publication-table"
                   hx-include="#filter-form"
                   hx-swap="innerHTML"
                   class="ewaluacja-optymalizacja__pagination-link">{{ page_obj.number|add:"1" }}</a>
            </li>
            {% endif %}

            {# Strona +2 #}
            {% if page_obj.number|add:"2" <= page_obj.paginator.num_pages %}
            <li class="ewaluacja-optymalizacja__pagination-item">
                <a href="#"
                   hx-get="{% url 'ewaluacja_optymalizacja:browser-table' %}?page={{ page_obj.number|add:"2" }}"
                   hx-target="#publication-table"
                   hx-include="#filter-form"
                   hx-swap="innerHTML"
                   class="ewaluacja-optymalizacja__pagination-link">{{ page_obj.number|add:"2" }}</a>
            </li>
            {% endif %}

            {# Ostatnia strona jeśli daleko #}
            {% if page_obj.number|add:"2" <= page_obj.paginator.num_pages|add:"-2" %}
            <li class="ellipsis ewaluacja-optymalizacja__pagination-item">
                <span class="ewaluacja-optymalizacja__pagination-ellipsis">...</span>
            </li>
            <li class="ewaluacja-optymalizacja__pagination-item">
                <a href="#"
                   hx-get="{% url 'ewaluacja_optymalizacja:browser-table' %}?page={{ page_obj.paginator.num_pages }}"
                   hx-target="#publication-table"
                   hx-include="#filter-form"
                   hx-swap="innerHTML"
                   class="ewaluacja-optymalizacja__pagination-link">{{ page_obj.paginator.num_pages }}</a>
            </li>
            {% elif page_obj.number|add:"1" <= page_obj.paginator.num_pages|add:"-2" %}
            <li class="ewaluacja-optymalizacja__pagination-item">
                <a href="#"
                   hx-get="{% url 'ewaluacja_optymalizacja:browser-table' %}?page={{ page_obj.paginator.num_pages }}"
                   hx-target="#publication-table"
                   hx-include="#filter-form"
                   hx-swap="innerHTML"
                   class="ewaluacja-optymalizacja__pagination-link">{{ page_obj.paginator.num_pages }}</a>
            </li>
            {% endif %}

            {# Następna #}
            {% if page_obj.has_next %}
            <li class="pagination-next ewaluacja-optymalizacja__pagination-item">
                <a href="#"
                   hx-get="{% url 'ewaluacja_optymalizacja:browser-table' %}?page={{ page_obj.next_page_number }}"
                   hx-target="#publication-table"
                   hx-include="#filter-form"
                   hx-swap="innerHTML"
                   class="ewaluacja-optymalizacja__pagination-link ewaluacja-optymalizacja__pagination-link--nav"
                   aria-label="Następna strona">
                    następna
                </a>
            </li>
            {% else %}
            <li class="pagination-next disabled ewaluacja-optymalizacja__pagination-item" aria-disabled="true">
                <span class="ewaluacja-optymalizacja__pagination-link--disabled">następna</span>
            </li>
            {% endif %}

            {# Info o ilości #}
            <li class="ewaluacja-optymalizacja__pagination-item--info">
                <small class="ewaluacja-optymalizacja__pagination-count">
                    ({{ page_obj.paginator.count }} publikacji)
                </small>
            </li>
        </ul>
    </nav>
</div>
{% endif %}
